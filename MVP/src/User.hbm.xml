<?xml version="1.0"?>
  <!DOCTYPE hibernate-mapping PUBLIC
  "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
  "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd" >
  
  <hibernate-mapping>
      <class name="DBObject" table="All" >
          <id name="mazeID" type="java.lang.Long" column="maze_id" >
                <generator class="native" />
          </id>
          <many-to-one name="solutions" class="algorithms.search.Solution" fetch="select">
            <column name="mazeID" not-null="true" />
       	 </many-to-one>
			<many-to-one name="mazes" class="db.SimpelingMaze" fetch="select">
            <column name="mazeID" not-null="true" />
       	 </many-to-one>
       	 <property name="name" type="string">
            <column name="MAZE_NAME" length="20" not-null="true" unique="true" />
        </property>
      </class>
      
       <class name="Solution" table="solutions">
        <id name="mazeID" type="java.lang.Long" column="maze_id">
         <generator class="native"/>
      </id>
      <property name="numMoves" column="nummoves" type="int"/>
      <list name="path" cascade="all">
         <key column="num"/>
         <list-index column="idx"/>
         <one-to-many class="Position"/>
      </list>
   </class>
   
   <class name="Position" table="Positions">
      <id name="num" type="int" column="num">
         <generator class="native"/>
      </id>
      <property name="x" column="x" type="int"/>
      <property name="y" column="y" type="int"/>
      <property name="z" column="z" type="int"/>
   </class>
   
   <class name="simpleMaze" table="mazes">
        <id name="mazeID" type="java.lang.Long" column="maze_id">
         <generator class="native"/>
      </id>
      <list name="simpleMaze" cascade="all">
         <key column="maze"/>
         <list-index column="idx"/>
      <element type="binary" length="1024" column="BYTES_" />
    </list>
   </class>
      
  </hibernate-mapping>

  